<!DOCTYPE html>
<html>
<head>
    <title>URl, Campaign Name and CID Appender</title>
    <style>
        body {
            font-family: Arial, sans-serif;
            margin: 0;
            padding: 0;
            background-image: url('https://images.unsplash.com/photo-1533090161767-e6ffed986c88?ixlib=rb-4.0.3&ixid=M3wxMjA3fDB8MHxwaG90by1wYWdlfHx8fGVufDB8fHx8fA%3D%3D&auto=format&fit=crop&w=2069&q=80'); 
            background-size: cover;
            transition: background-image 1s ease-in-out;
        }

        form {
            width: 400px;
            margin: 0 auto;
            background: rgba(255, 255, 255, 0.7); /* Form background with transparency */
            padding: 30px;
        }

        input[type="text"] {
            width: 100%;
            padding: 10px;
            margin-bottom: 10px;
        }

        input[type="button"] {
            width: 100%;
            padding: 10px;
            background-color: 	#F02B2B ;
            color: #fff;
            border: none;
            cursor: pointer;
        }

        input[type="button"]:hover {
            background-color: #28BD16  ;
        }

        #output {
            margin-top: 20px;
            font-weight: bold;
        }

        #outputTextarea {
            width: 95%;
            height: 200px;
			display: block;
			margin-left: auto;
			margin-right: auto;
			
        }
    </style>
</head>
<body>
    <h1>URl, Campaign Name and CID Appender</h1>
    <form id="appendForm">
        <input type="text" id="url" placeholder="Enter URL">
        <input type="text" id="campaignName" placeholder="Enter Campaign Name">
        <input type="text" id="cid" placeholder="Enter CID">
        <input type="button" value="Append & Generate" onclick="appendUTMandCID()">
    </form>
    <div id="output">
        <textarea id="outputTextarea" readonly></textarea>
    </div>

    <script>
        const generatedUrls = [];

        function appendUTMandCID() {
            const url = document.getElementById('url').value;
            const campaignName = document.getElementById('campaignName').value;
            const cid = document.getElementById('cid').value;

            // Parse existing UTM parameters from the input URL
            const urlParts = url.split('?');
            let existingParams = '';
            if (urlParts.length > 1) {
                existingParams = '?' + urlParts[1];
            }

            // Construct the final URL with utmsrc and cid
            const finalUrl = `${urlParts[0]}?utm_source=sfmc&utm_medium=sms&utm_campaign=${encodeURIComponent(campaignName)}&utm_cid=${cid}${existingParams}`;

            // Add the final URL to the generatedUrls array
            generatedUrls.unshift(finalUrl);
            if (generatedUrls.length > 10) {
                generatedUrls.pop(); // Remove the oldest URL
            }

            // Update the output textarea with the generated URLs
            document.getElementById('outputTextarea').value = generatedUrls.join('\n');
        }
    </script>
</body>
</html>
